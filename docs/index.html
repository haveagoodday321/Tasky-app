<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Tasky ‚Äì Your Personal Assistant</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
:root {
  --primary: #4f46e5;
  --secondary: #6366f1;
  --accent: #22c55e;
  --soft-bg: #f4f6ff;
  --highlight: #fef3c7;
  --text-main: #0f172a;
  --text-soft: #64748b;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: linear-gradient(180deg, #eef2ff, #f8fafc);
  margin: 0;
  color: var(--text-main);
}

.container {
  max-width: 480px;
  margin: auto;
  padding: 20px;
}

h1 {
  font-size: 30px;
  margin-bottom: 4px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

p {
  color: var(--text-soft);
}

.card {
  background: white;
  border-radius: 18px;
  padding: 18px;
  margin-top: 18px;
  box-shadow: 0 12px 30px rgba(79,70,229,0.12);
  border: 1px solid #eef2ff;
  animation: slideUp 0.45s ease-out both;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(14px); }
  to { opacity: 1; transform: translateY(0); }
}

input, select {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  border-radius: 12px;
  border: 1px solid #e5e7eb;
  font-size: 15px;
}

button {
  width: 100%;
  padding: 12px;
  margin-top: 12px;
  border-radius: 14px;
  font-size: 15px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  transition: transform 0.15s ease;
}

button:active {
  transform: scale(0.97);
}

button.secondary {
  background: var(--soft-bg);
  color: var(--primary);
}

ul {
  padding-left: 18px;
}

li {
  margin-bottom: 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  animation: popIn 0.25s ease-out;
  transition: transform 0.2s ease, opacity 0.2s ease;
}

@keyframes popIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

li.done {
  text-decoration: line-through;
  color: #94a3b8;
  animation: complete 0.3s ease-out;
}

@keyframes complete {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

li.swipe-left {
  transform: translateX(-80px);
  opacity: 0;
}

.soft {
  font-size: 14px;
  color: var(--text-soft);
}

.badge {
  background: linear-gradient(135deg, var(--accent), #16a34a);
  color: white;
  padding: 5px 12px;
  border-radius: 999px;
  font-size: 12px;
  display: inline-block;
  margin-bottom: 8px;
}

.locked {
  opacity: 0.45;
  filter: blur(1.5px);
}

.highlight {
  background: var(--highlight);
  border-left: 4px solid #f59e0b;
  padding: 12px;
  border-radius: 12px;
  margin-top: 12px;
  font-size: 14px;
}

.momentum-box {
  margin-top: 12px;
  padding: 10px;
  border-radius: 12px;
  background: linear-gradient(135deg, #ecfeff, #eef2ff);
  font-weight: 600;
  color: var(--primary);
}

.premium-card {
  background: linear-gradient(180deg, #f5f3ff, #ffffff);
  border: 1px solid #c7d2fe;
}

.task-btn {
  background: transparent;
  color: #ef4444;
  border: none;
  font-weight: 700;
  cursor: pointer;
  margin-left: 8px;
}
</style>
</head>

<body>
<div class="container">

<h1>Tasky</h1>
<p>Your calm assistant for school, work & life.</p>

<!-- Setup -->
<div class="card" id="setup">
  <h3>Let‚Äôs personalize Tasky</h3>

  <select>
    <option>Student</option>
    <option>Employee</option>
    <option>Both</option>
  </select>

  <select>
    <option>Gentle reminders</option>
    <option>Normal reminders</option>
    <option>Minimal interruptions</option>
  </select>

  <button onclick="start()">Start using Tasky</button>
</div>

<!-- App -->
<div id="app" style="display:none">

<div class="card">
  <h3>Today‚Äôs Objectives</h3>
  <p class="soft">This is part of Tasky Basic ‚Äî free forever.</p>

  <input id="taskInput" placeholder="Add an objective‚Ä¶" />
  <button onclick="addTask()">Add objective</button>
  <button class="secondary" onclick="clearCompleted()">Clear Completed Tasks</button>

  <ul id="taskList"></ul>

  <div class="momentum-box">
    Momentum: <span id="momentum">0</span> completed
  </div>
</div>

<div class="card">
  <span class="badge">Free</span>
  <h3>Tasky Basic</h3>
  <p class="soft">Everything you need to stay organised ‚Äî forever.</p>
</div>

<div class="card">
  <span class="badge">Optional</span>
  <h3>Advanced Assistant</h3>

  <div id="aiLocked" class="locked">
    <p>üìò Personalised plans</p>
    <p>‚è±Ô∏è Smart timing suggestions</p>
    <p>üß† Focus methods tailored to you</p>
  </div>

  <button class="secondary" onclick="startTrial()">Start free trial</button>
</div>

<div class="card premium-card">
  <h3>Tasky Premium</h3>
  <p class="soft">$0.98 / month</p>
</div>

</div>
</div>

<script>
let momentum = 0;

// Load tasks from localStorage on start
window.addEventListener("DOMContentLoaded", () => {
  const saved = JSON.parse(localStorage.getItem("tasks") || "[]");
  saved.forEach(t => renderTask(t.text, t.done));
  updateMomentum();
});

function start() {
  document.getElementById("setup").style.display = "none";
  document.getElementById("app").style.display = "block";
}

function saveTasks() {
  const taskList = [];
  document.querySelectorAll("#taskList li").forEach(li => {
    taskList.push({ text: li.querySelector(".task-text").textContent, done: li.classList.contains("done") });
  });
  localStorage.setItem("tasks", JSON.stringify(taskList));
  updateMomentum();
}

function updateMomentum() {
  const doneCount = document.querySelectorAll("#taskList li.done").length;
  document.getElementById("momentum").textContent = doneCount;
}

function addTask() {
  const input = document.getElementById("taskInput");
  if (!input.value) return;
  renderTask(input.value, false);
  input.value = "";
  saveTasks();
}

function renderTask(text, done) {
  const li = document.createElement("li");

  const span = document.createElement("span");
  span.className = "task-text";
  span.textContent = text;
  if (done) li.classList.add("done");

  // Editable task
  span.addEventListener("dblclick", () => editTask(span));
  span.addEventListener("touchstart", e => {
    e.stopPropagation();
    span.dataset.touchTime = Date.now();
  });
  span.addEventListener("touchend", e => {
    const touchTime = parseInt(span.dataset.touchTime);
    if (Date.now() - touchTime > 300) editTask(span);
  });

  const btnDelete = document.createElement("button");
  btnDelete.className = "task-btn";
  btnDelete.textContent = "‚ùå";
  btnDelete.onclick = () => {
    li.remove();
    saveTasks();
  };

  li.appendChild(span);
  li.appendChild(btnDelete);

  // Click to toggle done
  li.onclick = e => {
    if (e.target === btnDelete || e.target === span) return;
    li.classList.toggle("done");
    saveTasks();
  };

  // Swipe gestures
  let startX = 0;
  li.addEventListener("touchstart", e => startX = e.touches[0].clientX);
  li.addEventListener("touchend", e => {
    const diff = e.changedTouches[0].clientX - startX;
    if (diff > 80) li.classList.add("done");
    if (diff < -80) li.remove();
    saveTasks();
  });

  document.getElementById("taskList").appendChild(li);
}

// Edit functions
function editTask(span) {
  const oldText = span.textContent;
  const input = document.createElement("input");
  input.type = "text";
  input.value = oldText;
  input.style.width = "70%";

  span.replaceWith(input);
  input.focus();

  input.addEventListener("blur", () => finishEdit(input, span));
  input.addEventListener("keydown", e => { if (e.key === "Enter") finishEdit(input, span); });
}

function finishEdit(input, span) {
  span.textContent = input.value || "Untitled Task";
  input.replaceWith(span);
  saveTasks();
}

// Clear completed tasks
function clearCompleted() {
  document.querySelectorAll("#taskList li.done").forEach(li => {
    li.remove();
  });
  saveTasks();
}

function startTrial() {
  document.getElementById("aiLocked").classList.remove("locked");
  alert("üéâ Free trial activated!");
}
</script>
</body>
  </html>
